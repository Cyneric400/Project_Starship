mainenginefile="engine_configuration/main_engines"
nav0file="engine_configuration/nav_thruster_0"
nav1file="engine_configuration/nav_thruster_1"
# Move the following comments to above the loops and if statements

# Add checker to see if reactor config file has been edited

# Add checker to see if navigation directory has been restored to proper format

# Rewrite engine files (mainenginefile, nav0file, nav1file) with status=OFFLINE if all checkers read ONLINE

# statusVar=$(source ./syscheck.sh $mainengstatus)

# echo "status is $statusVar"

source ./syscheck.sh

echo -e "\n"
echo "---------"
echo -e "\n"
echo "Launching engine control..."
sleep 0.75
echo "Registering main engines..."
sleep 1
echo "Registering thrusters..."
sleep 1
echo -e "\n"

if [ $enginePowerStatus == 1 ];
then
    echo "Power: sufficient power"
    echo "Bringing main engines online."
else
    echo "WARNING: Insufficient power. Unable to bring engine controllers online."
    exit
fi

if [ "$navigationStatus" == 1 ];
then
    echo "Calibrating nav systems..."
    sleep 0.1
    echo "Nav systems online."
    echo "Bringing nav thrusters online."
else
    echo "ERROR: nav system error"
    echo "Unable to bringing navigation thruster controllers online."
    exit
fi
if [[ "$enginePowerStatus" == 1 ]] && [[ "$navigationStatus" == 1 ]];
then
    meStatus=ONLINE
fi

echo -e "\n"
echo "Main engines $meStatus"
sleep 0.1
echo "Navigational thruster 0 $nav0Status"
sleep 0.1
echo "Navigational thruster 1 $nav1Status"
sleep 0.1
echo -e "\n"


if [[ $meStatus == OFFLINE ]] || [[ $nav0Status == OFFLINE ]] || [[ $nav1Status == OFFLINE ]];
then
    echo "ERROR: Unable to bring engines online."
    sleep 2
    exit
else
    echo "ALL ENGINES ONLINE"
    echo -e "\n"
fi
# echo "Engines online."


read -p "Enter command: " commandIn
